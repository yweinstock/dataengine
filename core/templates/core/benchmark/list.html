{% extends 'core/base.html' %}

{% block content %}
    <div class="row justify-content-center">
        <div class="jumbotron">
            <h1>Benchmarks
                <a class="badge badge-secondary" href="{% url 'bm_new' %}">add</a>
            </h1>
        </div>
    </div>
    <div class="row justify-content-center">
        <table
                id="bm_table"
                data-id-field="id"
                data-toggle="table"
                data-search="true"
                data-show-columns="true"
                data-url="/api/v1/benchmarks"
                data-height="600"
                data-pagination="true"
        >
            <thead class="thead-light">
                <tr>
                    <th data-field="id" data-sortable="true">ID</th>
                    <th data-field="benchmark_name" data-sortable="true">Name</th>
                    <th data-field="created_by" data-sortable="true">Created By</th>
                    <th data-field="created_date" data-sortable="true" data-formatter="dateFormat">Created Date</th>
                    <th data-field="updated_by" data-sortable="true" >Updated By</th>
                    <th data-field="updated_date" data-sortable="true" data-formatter="dateFormat">Updated Date</th>
                    <th data-field="operate" data-formatter="operateFormatter" data-events="operateEvents">Operation</th>

                </tr>
            </thead>
        </table>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>

<script>
  var $table = $('#bm_table')

  function operateFormatter(value, row, index) {
    return [
      '<a class="edit" href="javascript:void(0)" title="Edit">',
      '<i class="fa fa-pencil" data-toggle="modal" data-target="#exampleModal" ></i>',
      '</a>  ',
      '<a class="remove" href="javascript:void(0)" title="Remove">',
      '<i class="fa fa-trash"></i>',
      '</a>'
    ].join('')
  }

  window.operateEvents = {
    'click .edit': function (e, value, row, index) {
      alert('You clicked the edit action, row: ' + JSON.stringify(row))
    },
    'click .remove': function (e, value, row, index) {
      alert('You clicked the remove action, row: ' + JSON.stringify(row))
    }
  }
</script>

{% endblock %}